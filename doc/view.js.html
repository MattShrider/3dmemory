<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: view.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: view.js</h1>

    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** 
 * @file js/view.js This file contains the functions for adding and removing from
 * the front-facing website.
 * @author Matthew Shrider &lt;mattshrider@gmail.com>
 */

/** 
* View namespace for wrapping up GUI helpers/functions.
* @namespace view
*/
var view = {
   /**
    * @method addProc
    * Adds a process to the GUI
    * @param {Proc} p The process object containg all of the data to add to the GUI
    * @memberof view
    */
   addProc: function(p){
      /* Find a random color and convert it to a HEX code */
      var color = Math.floor((Math.random() * 0.5 + 0.5)*16777215).toString(16);
      var $proc = $('&lt;li id="pid' + p.id + '"class="block" style="background: #' + color + '">' +
                    '&lt;span class="center">Proc ID: ' + p.id + '&lt;/span>' +
                    '&lt;span class="header">Pages:&lt;/span>' +
                    '&lt;div class="pagecontainer">' +
                    '&lt;ul class="text">' +
                    '&lt;/ul>' +
                    '&lt;ul class="data">' +
                    '&lt;/ul>' +
                    '&lt;/div>' +
                    '&lt;/li>');
      $('#procs').append($proc.hide().fadeIn(300));

      var $text;
      var $mem;
      var $frametext;
      var type;
      var $free;

      /* Add text to the page's frame */
      for (var i=0; i &lt; p.pageTable.length; i++){
         $free = $('#free li').first().remove();
         type = p.pageTable[i].type;
         if (type === 'text'){
            $text = $proc.find('.text');
         } else {
            $text = $proc.find('.data');
         }
         $text.append($('&lt;li>' + i + ' '+ type +'  &lt;span class="pageframe">Frame: ' + p.pageTable[i].frame + '&lt;/span>&lt;/li>').hide().fadeIn(500));

         /* Add info to memory */
         $mem = $('#memory #f' + p.pageTable[i].frame);
         $mem.css("background", "#"+color);
         var textcolor;
         if (type === 'text'){
            textcolor="#FEEBE1";
         } else {
            textcolor="#E1FEFC";
         }
         $frametext = $('&lt;div style="background: '+textcolor+'" class="memtext">PID: ' + p.id + '  Page: ' + i + '  Type: ' + type + '&lt;/div>');

         $mem.append($frametext.hide().fadeIn(300));
      }
   },

   /**
    * @method removeProc
    * Removes a process from the GUI
    * @param {Proc} p The process object containg all of the data to remove from the GUI
    * @memberof view
    */
   removeProc: function(p){
      $('#procs #pid' + p.id).fadeOut(200, function(){this.remove();});
      var $frame;
      for (var i=0; i &lt; p.pageTable.length; i++){
         $('#memory #f' + p.pageTable[i].frame).css("background", "#abcdef");
         $frame = $('#memory #f' + p.pageTable[i].frame + ' .memtext').remove();
      }
   },

   /**
    * @method freeFrame
    * Adds new free frames to the Free Frame list
    * @param {Number} f Which frame was just freed
    * @memberof view
    */
   freeFrame: function(f){
      var $free = $('#free');
      var $frame = $('&lt;li id="free' + f + '">' + f + '&lt;/li>');
      $free.prepend($frame);
   },

};

/* Will be ran when the site has loaded, useful for animations */
$(document).ready(function(){

});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="model.Frame.html">Frame</a></li><li><a href="model.Page.html">Page</a></li><li><a href="model.Proc.html">Proc</a></li></ul><h3>Events</h3><ul><li><a href="controller.html#event:loadDefault
Reads the local testing tape into the simulation">loadDefault
Reads the local testing tape into the simulation</a></li><li><a href="controller.html#event:loadFile
Reads the contents of a track tape into the simulation.">loadFile
Reads the contents of a track tape into the simulation.</a></li></ul><h3>Namespaces</h3><ul><li><a href="controller.html">controller</a></li><li><a href="model.html">model</a></li><li><a href="view.html">view</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a> on Thu Apr 03 2014 13:03:42 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
